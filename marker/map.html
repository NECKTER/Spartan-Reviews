<!DOCTYPE html >
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>SJSU Fast Food Restaurants</title>
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>

  <body>
    <div id="map"></div>

    <script>
        function initMap() {
        var customLabel = {
        Macdonalds: {
          label: 'M'
          },
        Tacobell: {
          label: 'T'
          },
        Burgerking: {
          label: 'B'
          },
        Jackinthebox: {
          label: 'J'
          },
        Wendys: {
          label: 'W'
          },
        Carljr: {
          label: 'C'
          },
        Subway: {
          label: 'S'
          },
        };
        var map = new google.maps.Map(document.getElementById('map'), {
          center: new google.maps.LatLng(37.335240, -121.881112),
          zoom: 14
        });
        var infoWindow = new google.maps.InfoWindow;

          downloadUrl('https://00e9e64bac38d535cce9140ab3acef10a6f805724517ed4114-apidata.googleusercontent.com/download/storage/v1/b/markerx/o/marker.xml?qk=AD5uMEucpyY8APxcTeBlv75N3dMhHF495Q9sMoLjEuZ0tOae_WFLR13lZqffYeDLeWOwrkNWO701zHB_IPqg8fp_-y2Eyeb8HtWx2-wJpheDM7wVdFfAkPFdMuvrQK6y9elsLM4AfXnRHMQHZR73HHmyY6ppgCeOPChtwPaBBKRZG50_ZkGvuKMReN5RcBpNo2oB_6fd_CV82rS4YCknttl1FQpWFPPcoyA6JVkt-1hejrsHHbGcikeuAUV2Tk6sCFWHlbFUZDILeB4uFt2Kda91TDxrayOPwQtphX_jMRIVSBbfw0t71PLGNV0xoU9o_Q9uTWTtnVUg3DMWt8ZUBbXvg8j6UXL1aUGX4LsFNLZHQJgNxyvJh84xwJ1FeFHR5A5OPGfWLI6vIy6NC3gyFaxBA0DkIj4XMNIfxiwYkO-_LkYDTf317d6-jcdmXLvn2F_M0SdW3tqJXlfYov-pQasrZMiw-JpvrYWUjQ7u6VBNCqGQZ4h6yho1SITYY0Af-Ff31igyM2OJU-fi_KiQzxgFM7vvSviXXTqh8RzQ1Lh4Td0n_UxIUFJ8v466D2tpFvCbQvN2E_kdCsFuVCgnda_b_t6Ck-XSUofY57wQ0ZQvaEUd2HJ5Up11JJT9uGWdMe_Wdejyqj4L0A_hn3OD12EO8Lx9Quy-Y-Hcylr6wTIeTpRfLSioi16r4WX1g5uqX247i_B3R5372bZy-Zqsjow-OVcPS0O_hHRYH_U_4Ry9HNdmNlykPM2tYQ3Ugu1uZt9J5HAA1G2w',
            function(data) {
              var xml = data.responseXML;
              var markers = xml.documentElement.getElementsByTagName('marker');
              Array.prototype.forEach.call(markers, function(markerElem) {
                var id = markerElem.getAttribute('id');
                var name = markerElem.getAttribute('name');
                var address = markerElem.getAttribute('address');
                var type = markerElem.getAttribute('type');
                var point = new google.maps.LatLng(
                    parseFloat(markerElem.getAttribute('lat')),
                    parseFloat(markerElem.getAttribute('lng')));

                var infowincontent = document.createElement('div');
                var restaurant = document.createElement('strong');
                restaurant.textContent = name
                infowincontent.appendChild(restaurant);
                infowincontent.appendChild(document.createElement('br'));
                var text = document.createElement('text');
                text.textContent = address
                infowincontent.appendChild(text);
                var icon = customLabel[type] || {};
                var marker = new google.maps.Marker({
                  map: map,
                  position: point,
                  label: icon.label
                });
                marker.addListener('click', function() {
                  infoWindow.setContent(infowincontent);
                  infoWindow.open(map, marker);
               });
               marker.addListener('dblclick', function() {
                 if (id == '1') {
                 window.location.href = 'Restaurants/Mcdonald.html';
                 }
                 else if(id == '2')
                 {window.location.href = 'Restaurants/Mcdonald 2.html';
                 }
                 else if(id == '3')
                 {window.location.href = 'Restaurants/Tacobell.html';
                 }
                 else if(id == '4')
                 {window.location.href = 'Restaurants/Burger King.html';
                 }
                 else if(id == '5')
                 {window.location.href = 'Restaurants/Jack In The Box.html';
                 }
                 else if(id == '6')
                 {window.location.href = 'Restaurants/Jack In The Box 2.html';
                 }
                 else if(id == '7')
                 {window.location.href = 'Restaurants/Wendys.html';
                 }
                 else if(id == '8')
                 {window.location.href = 'Restaurants/Carl Jr.html';
                 }
                 else if(id == '9')
                 {window.location.href = 'Restaurants/Subway 1.html';
                 }
                 else if(id == '10')
                 {window.location.href = 'Restaurants/Subway 2.html';
                 }
                 else if(id == '11')
                 {window.location.href = 'Restaurants/Subway 3.html';
                 }
                 else if(id == '12')
                 {window.location.href = 'Restaurants/Subway 4.html';
                 }
                 else {
                 window.location.href = 'Restaurants/Subway 5.html';
                 }
               });
            });
          });
        }



      function downloadUrl(url, callback) {
        var request = window.ActiveXObject ?
            new ActiveXObject('Microsoft.XMLHTTP') :
            new XMLHttpRequest;

        request.onreadystatechange = function() {
          if (request.readyState == 4) {
            request.onreadystatechange = doNothing;
            callback(request, request.status);
          }
        };

        request.open('GET', url, true);
        request.send(null);
      }

      function doNothing() {}
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCIAxFPsEfdSXps9ruhEWcNcFIygGG0qnY&callback=initMap">
    </script>
  </body>
</html>
